<template name="stats">
  {{#if currentUser}}
    {{> showStats}}
    {{> showVideosModal}}
  {{else}}
  {{> adminAuth}}
  {{/if}}
</template>

<template name="showStats">
  <h3> PairId : {{pairId}}</h3>
  <button class='btn btn-lg btn-primary pull-left show-previous'><span class="glyphicon glyphicon-arrow-left"></span>Previous</button>
  <button class='btn btn-lg btn-primary show-next pull-right'><span class="glyphicon glyphicon-arrow-right"></span>Next</button>
  <div class="container text-center">
    <button class='btn btn-lg btn-secondary show-videos'><span class="glyphicon glyphicon-facetime-video"></span>Show Videos</button>  
  </div>
  {{> pairStats}}
  {{> add_comment}}
  {{> show_comments}}
</template>

<template name="pairStats">
  <h4> TTC Distribution </h4>
  <div class="text-xs-center">
    <img id="ttc-dist" src="{{ttcDistImgUrl}}" class="img-fluid"/>
  </div>
</template>

<template name="add_comment">
  <div>
    <h3>Add A Comment:</h3>
    <textarea id="comment-text" class="form-control" rows="4"
    placeholder="Write a comment here...">
    </textarea>
    <br/>
    <button type="button" class="btn btn-default btn-primary submit-comment">Submit</button>
  </div>

</template>

<template name="show_comments">
  <div>
    <ul class="list-unstyled">
      {{#each comments}}
      <li>
        <hr/>
        <h4><span class="glyphicon glyphicon-comment"></span>  {{comment}}  </h4></li>
      {{/each}}
    </ul>
  </div>
</template>

<template name ="showVideosModal">
  <div class="modal" id="showVideos" role="dialog" tabindex="-1">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Gif Videos</h2>
      </div>
      <div class="modal-body text-centered">
        <form class='form' id='visualFeedback'> 
          {{> gifView}}
          <div class="container text-center">
            <button class='btn btn-lg btn-secondary replay-btn'><span class="glyphicon glyphicon-repeat"></span> Replay</button>  
            <button class='btn btn-lg btn-success time-btn'><span class="glyphicon glyphicon-time"></span>Time it!</button>  
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <div class="pull-left">
          <h5> Timed at:</h5>
          <h4 id='timer'></h4> 
        </div>
        <button type="button" class="btn btn-default btn-secondary" data-dismiss="modal">Close
        </button>
      </div>
    </div>
  </div>
</template>